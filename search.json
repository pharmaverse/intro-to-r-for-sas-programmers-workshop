[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Intro To R",
    "section": "",
    "text": "1 Exercises\nOn this page you can find the exercises for the intro-to-R course."
  },
  {
    "objectID": "dplyr_exercises.html#setup",
    "href": "dplyr_exercises.html#setup",
    "title": "2  dplyr exercises",
    "section": "2.1 Setup",
    "text": "2.1 Setup\n\nlibrary(\"tidyverse\")\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   1.0.0 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.5.0 \n✔ readr   2.1.3      ✔ forcats 0.5.2 \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\n# load data\nadsl <- haven::read_sas(\"data/adsl.sas7bdat\") %>% \n  mutate_if(is_character, na_if, \"\")"
  },
  {
    "objectID": "dplyr_exercises.html#data-wrangling-with-dplyr",
    "href": "dplyr_exercises.html#data-wrangling-with-dplyr",
    "title": "2  dplyr exercises",
    "section": "2.2 Data wrangling with dplyr",
    "text": "2.2 Data wrangling with dplyr\nLoad the adsl data-frame and select the following variables:\n\nUSUBJID\nARM\nSEX\nAGE\nAGEU\nAGEGR1\nCOUNTRY\nEOSSTT\n\n\n\nShow solution\nadsl %>% \n  select(USUBJID, ARM, SEX, starts_with(\"AGE\"), COUNTRY, EOSSTT)\n\n\n# A tibble: 306 × 8\n   USUBJID     ARM                  SEX     AGE AGEU  AGEGR1 COUNTRY EOSSTT     \n   <chr>       <chr>                <chr> <dbl> <chr>  <dbl> <chr>   <chr>      \n 1 01-701-1015 Placebo              F        63 YEARS      2 USA     COMPLETED  \n 2 01-701-1023 Placebo              M        64 YEARS      2 USA     DISCONTINU…\n 3 01-701-1028 Xanomeline High Dose M        71 YEARS      3 USA     COMPLETED  \n 4 01-701-1033 Xanomeline Low Dose  M        74 YEARS      3 USA     DISCONTINU…\n 5 01-701-1034 Xanomeline High Dose F        77 YEARS      3 USA     COMPLETED  \n 6 01-701-1047 Placebo              F        85 YEARS      3 USA     DISCONTINU…\n 7 01-701-1057 Screen Failure       F        59 YEARS      2 USA     <NA>       \n 8 01-701-1097 Xanomeline Low Dose  M        68 YEARS      3 USA     COMPLETED  \n 9 01-701-1111 Xanomeline Low Dose  F        81 YEARS      3 USA     DISCONTINU…\n10 01-701-1115 Xanomeline Low Dose  M        84 YEARS      3 USA     DISCONTINU…\n# … with 296 more rows\n\n\nOn the selected variables, include only patients in the placebo arm who are 66, 77, 88, or 99 years old.\n\n\nShow solution\nadsl %>% \n  select(USUBJID, SEX, ARM, EOSSTT, starts_with(\"AGE\")) %>% \n  filter(ARM == \"Placebo\",\n         AGE %in% c(6:9*11))\n\n\n# A tibble: 5 × 7\n  USUBJID     SEX   ARM     EOSSTT         AGE AGEU  AGEGR1\n  <chr>       <chr> <chr>   <chr>        <dbl> <chr>  <dbl>\n1 01-705-1059 F     Placebo DISCONTINUED    66 YEARS      3\n2 01-708-1171 F     Placebo COMPLETED       77 YEARS      3\n3 01-710-1368 F     Placebo COMPLETED       88 YEARS      3\n4 01-714-1035 F     Placebo COMPLETED       88 YEARS      3\n5 01-718-1139 M     Placebo COMPLETED       77 YEARS      3\n\n\nFurther include the variable TRTSDTM (datetime of first exposure to treatment) and sort the previous data-frame according to this variable from most recent to least recent first exposure.\n\n\nShow solution\nadsl %>% \n  select(USUBJID, SEX, ARM, EOSSTT, starts_with(\"AGE\"), TRTSDTM) %>% \n  filter(ARM == \"Placebo\",\n         AGE %in% c(6:9*11)) %>% \n  arrange(desc(TRTSDTM))\n\n\n# A tibble: 5 × 8\n  USUBJID     SEX   ARM     EOSSTT         AGE AGEU  AGEGR1 TRTSDTM            \n  <chr>       <chr> <chr>   <chr>        <dbl> <chr>  <dbl> <dttm>             \n1 01-714-1035 F     Placebo COMPLETED       88 YEARS      3 2014-04-17 00:00:00\n2 01-710-1368 F     Placebo COMPLETED       88 YEARS      3 2013-10-23 00:00:00\n3 01-705-1059 F     Placebo DISCONTINUED    66 YEARS      3 2013-08-05 00:00:00\n4 01-718-1139 M     Placebo COMPLETED       77 YEARS      3 2013-05-19 00:00:00\n5 01-708-1171 F     Placebo COMPLETED       77 YEARS      3 2012-12-06 00:00:00"
  },
  {
    "objectID": "tidyr_exercises.html#setup",
    "href": "tidyr_exercises.html#setup",
    "title": "3  tidyr_exercises",
    "section": "3.1 Setup",
    "text": "3.1 Setup\n\nlibrary(tidyverse)\nlibrary(admiral)\nlibrary(admiral.test)\nlibrary(dplyr)\nlibrary(tidyr)\n\n# load data\nex <- admiral_ex\ndm <- admiral_dm\nds <- admiral_ds\nsuppds <- admiral_suppds"
  },
  {
    "objectID": "tidyr_exercises.html#pivoting-with-tidyr",
    "href": "tidyr_exercises.html#pivoting-with-tidyr",
    "title": "3  tidyr_exercises",
    "section": "3.2 Pivoting with tidyr",
    "text": "3.2 Pivoting with tidyr\nLoad the ex data-frame from admiral_exand select the following variables:\n\nUSUBJID\nEXTRT\nVISIT\nEXSTDTC\n\n\n\nShow solution\nex %>% \n  select(USUBJID, EXTRT, VISIT, EXSTDTC)\n\n\n# A tibble: 591 × 4\n   USUBJID     EXTRT      VISIT    EXSTDTC   \n   <chr>       <chr>      <chr>    <chr>     \n 1 01-701-1015 PLACEBO    BASELINE 2014-01-02\n 2 01-701-1015 PLACEBO    WEEK 2   2014-01-17\n 3 01-701-1015 PLACEBO    WEEK 24  2014-06-19\n 4 01-701-1023 PLACEBO    BASELINE 2012-08-05\n 5 01-701-1023 PLACEBO    WEEK 2   2012-08-28\n 6 01-701-1028 XANOMELINE BASELINE 2013-07-19\n 7 01-701-1028 XANOMELINE WEEK 2   2013-08-02\n 8 01-701-1028 XANOMELINE WEEK 24  2014-01-07\n 9 01-701-1033 XANOMELINE BASELINE 2014-03-18\n10 01-701-1034 XANOMELINE BASELINE 2014-07-01\n# … with 581 more rows\n\n\nUsing pivot_wider() create a table that would shaped this way\n\n\n\nUSUBJID\nEXTRT\nBASELINE\nWEEK 2\nWEEK 24\n\n\n\n\n…\n…\n…\n…\n…\n\n\n\n\n\nShow solution\nex %>% \n  select(USUBJID, EXTRT, VISIT, EXSTDTC) %>% \n  pivot_wider(names_from = \"VISIT\", values_from = \"EXSTDTC\")\n\n\n# A tibble: 254 × 5\n   USUBJID     EXTRT      BASELINE   `WEEK 2`   `WEEK 24` \n   <chr>       <chr>      <chr>      <chr>      <chr>     \n 1 01-701-1015 PLACEBO    2014-01-02 2014-01-17 2014-06-19\n 2 01-701-1023 PLACEBO    2012-08-05 2012-08-28 <NA>      \n 3 01-701-1028 XANOMELINE 2013-07-19 2013-08-02 2014-01-07\n 4 01-701-1033 XANOMELINE 2014-03-18 <NA>       <NA>      \n 5 01-701-1034 XANOMELINE 2014-07-01 2014-07-16 2014-12-18\n 6 01-701-1047 PLACEBO    2013-02-12 2013-02-26 <NA>      \n 7 01-701-1097 XANOMELINE 2014-01-01 2014-01-16 2014-06-19\n 8 01-701-1111 XANOMELINE 2012-09-07 <NA>       <NA>      \n 9 01-701-1115 XANOMELINE 2012-11-30 2012-12-14 <NA>      \n10 01-701-1118 PLACEBO    2014-03-12 2014-03-27 2014-08-28\n# … with 244 more rows\n\n\nLoad the dm data-frame from admiral_dmand select the following variables:\n\nUSUBJID\nRACE\nSEX\n\n\n\nShow solution\ndm %>% \n  select(USUBJID, RACE, SEX)\n\n\n# A tibble: 306 × 3\n   USUBJID     RACE  SEX  \n   <chr>       <chr> <chr>\n 1 01-701-1015 WHITE F    \n 2 01-701-1023 WHITE M    \n 3 01-701-1028 WHITE M    \n 4 01-701-1033 WHITE M    \n 5 01-701-1034 WHITE F    \n 6 01-701-1047 WHITE F    \n 7 01-701-1057 WHITE F    \n 8 01-701-1097 WHITE M    \n 9 01-701-1111 WHITE F    \n10 01-701-1115 WHITE M    \n# … with 296 more rows\n\n\nUsing pivot_longer() create a table that would shaped this way\n\n\n\nUSUBJID\nVAR\nVAL\n\n\n\n\n1001\nRACE\nWHITE\n\n\n1001\nSEX\nM\n\n\n\n\n\nShow solution\ndm %>% \n  select(USUBJID, RACE, SEX) %>% \n  pivot_longer(cols = c(RACE, SEX),\n               names_to = \"VAR\",\n               values_to = \"VAL\")\n\n\n# A tibble: 612 × 3\n   USUBJID     VAR   VAL  \n   <chr>       <chr> <chr>\n 1 01-701-1015 RACE  WHITE\n 2 01-701-1015 SEX   F    \n 3 01-701-1023 RACE  WHITE\n 4 01-701-1023 SEX   M    \n 5 01-701-1028 RACE  WHITE\n 6 01-701-1028 SEX   M    \n 7 01-701-1033 RACE  WHITE\n 8 01-701-1033 SEX   M    \n 9 01-701-1034 RACE  WHITE\n10 01-701-1034 SEX   F    \n# … with 602 more rows"
  },
  {
    "objectID": "tidyr_exercises.html#joining-using-dplyr",
    "href": "tidyr_exercises.html#joining-using-dplyr",
    "title": "3  tidyr_exercises",
    "section": "3.3 Joining using dplyr",
    "text": "3.3 Joining using dplyr\nLoad the ds data-frame from admiral_ds and suppds data-frame from admiral_suppds. Prior to joining the two datasets together, we may need to do some cleaning of the data on suppds.\n\nFilter IDVAR for “DSSEQ”\nMutate IDVARVAL from type character to type numeric.\nSelect USUBJID IDVARVAL QNAM QLABEL QVAL\n\n\n\nShow solution\nsuppds <- suppds %>% \n  filter(IDVAR == \"DSSEQ\") %>% \n  mutate(IDVARVAL = as.numeric(IDVARVAL)) %>% \n  select(USUBJID, IDVARVAL, QNAM, QLABEL, QVAL)\n\nsuppds\n\n\n# A tibble: 3 × 5\n  USUBJID     IDVARVAL QNAM    QLABEL                          QVAL \n  <chr>          <dbl> <chr>   <chr>                           <chr>\n1 01-703-1175        2 ENTCRIT PROTOCOL ENTRY CRITERIA NOT MET 16   \n2 01-705-1382        2 ENTCRIT PROTOCOL ENTRY CRITERIA NOT MET 25   \n3 01-708-1372        3 ENTCRIT PROTOCOL ENTRY CRITERIA NOT MET 16   \n\n\nJoin the two tables together using USUBJID and DSSEQ as the key joining variables.\n\n\nShow solution\nds %>% \n  left_join(suppds, by = c(\"USUBJID\" = \"USUBJID\", \"DSSEQ\" = \"IDVARVAL\"))\n\n\n# A tibble: 850 × 16\n   STUDYID  DOMAIN USUBJID DSSEQ DSSPID DSTERM DSDECOD DSCAT VISIT…¹ VISIT DSDTC\n   <chr>    <chr>  <chr>   <dbl> <chr>  <chr>  <chr>   <chr>   <dbl> <chr> <chr>\n 1 CDISCPI… DS     01-701…     1 <NA>   RANDO… RANDOM… PROT…       3 BASE… 2014…\n 2 CDISCPI… DS     01-701…     2 <NA>   PROTO… COMPLE… DISP…      13 WEEK… 2014…\n 3 CDISCPI… DS     01-701…     3 <NA>   FINAL… FINAL … OTHE…      13 WEEK… 2014…\n 4 CDISCPI… DS     01-701…     1 <NA>   RANDO… RANDOM… PROT…       3 BASE… 2012…\n 5 CDISCPI… DS     01-701…     2 24     ADVER… ADVERS… DISP…       5 WEEK… 2012…\n 6 CDISCPI… DS     01-701…     3 <NA>   FINAL… FINAL … OTHE…       5 WEEK… 2012…\n 7 CDISCPI… DS     01-701…     4 <NA>   FINAL… FINAL … OTHE…     201 RETR… 2013…\n 8 CDISCPI… DS     01-701…     1 <NA>   RANDO… RANDOM… PROT…       3 BASE… 2013…\n 9 CDISCPI… DS     01-701…     2 <NA>   PROTO… COMPLE… DISP…      13 WEEK… 2014…\n10 CDISCPI… DS     01-701…     3 <NA>   FINAL… FINAL … OTHE…      13 WEEK… 2014…\n# … with 840 more rows, 5 more variables: DSSTDTC <chr>, DSSTDY <dbl>,\n#   QNAM <chr>, QLABEL <chr>, QVAL <chr>, and abbreviated variable name\n#   ¹​VISITNUM"
  }
]